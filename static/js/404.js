document.addEventListener('DOMContentLoaded', function () { const e = document.querySelector('.darken-overlay'), t = document.getElementById('whisper-sound'), n = document.getElementById('ring-sound'), o = document.getElementById('static-sound'); o.volume = 0.2, o.play().catch(e => console.log('Автовоспроизведение звука заблокировано')); const i = { minDelay: 3e3, maxDelay: 7e3, minDuration: 300, maxDuration: 500, minIntensity: .6, maxIntensity: 1 }; function a() { const o = randomBetween(i.minDuration, i.maxDuration), c = randomBetween(i.minIntensity, i.maxIntensity); e.style.backgroundColor = `rgba(0, 0, 0, ${c})`, e.style.transitionDuration = `${o / 2}ms`, Math.random() < .3 && playRandomSound(), setTimeout(() => { e.style.backgroundColor = 'rgba(0, 0, 0, 0)', e.style.transitionDuration = `${o / 2}ms`, setTimeout(a, randomBetween(i.minDelay, i.maxDelay)) }, o) } function playRandomSound() { const e = [t, n], o = e[Math.floor(Math.random() * e.length)]; o.currentTime = 0, o.volume = randomBetween(.3, .7), o.play().catch(e => console.log('Автовоспроизведение звука заблокировано')) } function randomBetween(e, t) { return Math.random() * (t - e) + e } setTimeout(a, 1e3) });
