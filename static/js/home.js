document.addEventListener('DOMContentLoaded', () => { const e = document.querySelectorAll('.terminal-line'), t = document.getElementById('clickSound'), n = document.getElementById('secretSound'), o = document.getElementById('screamSound'), a = document.querySelector('.status-dots'), s = document.querySelector('.secret-message'), d = document.getElementById('darkenOverlay'), l = document.getElementById('screamerVideo'), c = document.querySelectorAll('.hidden-letter'), r = ['I', "T", "'", 'S', 'M', 'E'], i = 500, m = 6e4; let p = [], u = !1; setInterval(() => { a.style.visibility = 'hidden' === a.style.visibility ? 'visible' : 'hidden' }, 500); const h = e => { if (u) return; const t = e.target.getAttribute('data-letter'), n = r[p.length]; t === n ? g(e.target) : p.length > 0 && v() }, g = e => { p.push(e.getAttribute('data-letter')), e.classList.add('active'), t.currentTime = 0, t.play(), p.length === r.length && f() }, f = () => { u = !0, setTimeout(() => { n.play(), a.style.display = 'none', s.style.display = 'inline', s.style.animation = 'fadeIn 2s forwards', d.style.backgroundColor = 'rgba(0, 0, 0, 0)', setTimeout(() => { d.style.backgroundColor = 'rgba(0, 0, 0, 1)' }, 10), setTimeout(y, m) }, i) }, y = () => { l.style.display = 'block', l.play(), o.currentTime = 0, o.play(), l.onended = () => { l.style.display = 'none', d.style.backgroundColor = 'rgba(0, 0, 0, 0)', u = !1 } }, v = () => { u = !0, setTimeout(() => { document.querySelectorAll('.hidden-letter.active').forEach(e => { e.classList.remove('active') }), p = [], u = !1 }, i) }; c.forEach(e => { e.addEventListener('click', h) }) });
