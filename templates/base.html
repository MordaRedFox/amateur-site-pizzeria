{% load static %}
<!DOCTYPE html>
<html lang='ru'>

<head>
    <!-- Основные настройки / Basic settings -->
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>{% block title %}Animatronic Pizzeria{% endblock %}</title>

    <!-- CSS -->
    <link rel='stylesheet' href='{% static "css/base.css" %}'>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" 
          href="{% static 'media/favicon/favicon.ico' %}">
    <link rel="apple-touch-icon" sizes="180x180" 
          href="{% static 'media/favicon/apple-touch-icon.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" 
          href="{% static 'media/favicon/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" 
          href="{% static 'media/favicon/favicon-16x16.png' %}">
    <link rel="manifest" 
          href="{% static 'media/favicon/site.webmanifest' %}">

    {% block extra_css %}{% endblock %}
</head>

<body>
    <!-- Скрытая форма для выхода -->
    <form id="logout-form" method="post"
            action="{% url 'logout' %}" style="display: none;">
        {% csrf_token %}
    </form>
    <nav>
        <ul>
            <li><a href="{% url 'home' %}">Главная</a></li>
            <li><a href="{% url 'menu:categories' %}">Меню</a></li>
            {% if user.is_authenticated %}
            <li><a href="#">Личный кабинет</a></li>
            <li>
                <a href="#"
                    onclick="document.getElementById('logout-form').submit();
                    return false;">Выйти</a>
            </li>
            {% else %}
            <li><a href="{% url 'login' %}">Войти</a></li>
            {% endif %}
        </ul>
    </nav>

    <main>
        {% if messages %}
        <div class="messages">
            {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">
                {{ message|escape}}
            </div>
            {% endfor %}
        </div>
        {% endif %}

        {% block content %}{% endblock %}
    </main>

    <footer>
        <p>
            <a href="https://github.com/MordaRedFox" target="_blank" 
                rel="noopener noreferrer">Animatronic Pizzeria</a>
            © {% now "Y" %}
        </p>
    </footer>

    {% block extra_js %}{% endblock %}
</body>
</html>
